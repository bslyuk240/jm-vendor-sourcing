<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>JulineMart Vendor Sourcing</title>
  <link rel="manifest" href="./manifest.webmanifest">
  <meta name="theme-color" content="#5E0063">
  <style>
    :root { --purple:#5E0063; --purple-dark:#3A003C; --purple-darker:#240025; --orange:#ff914d; --ink:#f9fafb; }
    *{ box-sizing:border-box }
    body{ font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif; margin:0;
          background: radial-gradient(1200px 700px at 20% -10%, var(--purple) 0%, var(--purple-dark) 45%, var(--purple-darker) 100%);
          color:var(--ink); }
    .topbar{ background:rgba(255,255,255,.06); backdrop-filter: blur(8px); color:#fff; padding:10px 14px; display:flex; align-items:center; gap:12px; position: sticky; top: 0; z-index: 10; border-bottom:1px solid rgba(255,255,255,.08); }
    .brand{ display:flex; align-items:center; gap:10px; font-weight:800 }
    .brand img{ width:36px; height:36px; border-radius:8px }
    .actionsRight { margin-left:auto; display:flex; gap:8px; align-items:center; }
    .wrap{ max-width:860px; margin: 16px auto; padding: 0 14px 14px; }
    .card{ background: rgba(255,255,255,.1); border: 1px solid rgba(255,255,255,.12); border-radius: 14px; padding: 14px; box-shadow: 0 16px 40px rgba(0,0,0,.35); }
    label{ display:block; font-size:.95rem; margin: 8px 0 4px; color:#fff }
    input, select, textarea{ width:100%; background: rgba(255,255,255,.12); color:#fff; border:1px solid rgba(255,255,255,.25); border-radius: 12px; padding: 12px; font-size: 1rem; outline: none; transition: background .2s, border-color .2s, box-shadow .2s; }
    select, option{ background-color:#3A003C; color:#fff; }
    input::placeholder, textarea::placeholder{ color:rgba(255,255,255,.65) }
    input:focus, select:focus, textarea:focus{ background: rgba(255,255,255,.18); border-color: var(--orange); box-shadow: 0 0 0 3px rgba(255,145,77,.25); }
    textarea{ min-height: 110px; }
    .grid2{ display:grid; grid-template-columns: 1fr 1fr; gap:10px }
    .grid3{ display:grid; grid-template-columns: 1fr 1fr 1fr; gap:10px }
    .actions{ display:grid; grid-template-columns: 1fr auto; gap:10px; margin-top: 12px; align-items:center }
    .status{ justify-self:end; font-size:.85rem; padding:6px 10px; border-radius:999px; border:1px solid rgba(255,255,255,.25); background:rgba(255,255,255,.08) }
    .online{ color:#10b981 } .offline{ color:#fbbf24 }
    .btn{ padding:12px; border-radius:12px; border:1px solid rgba(255,255,255,.25); background: rgba(255,255,255,.08); color:#fff; cursor:pointer; font-weight:600; transition: transform .06s ease, background .2s, border-color .2s; }
    .btn:hover{ background: rgba(255,255,255,.12) } .btn:active{ transform: translateY(1px) }
    .btn.primary{ background: var(--orange); border-color: var(--orange); color: #111; }
    .btn.ghost{ background:transparent; border:1px dashed rgba(255,255,255,.4); color:#fff }
    .tabs{ display:flex; gap:8px; margin: 12px 0 }
    .tab{ flex:1; text-align:center; padding:10px; border-radius:12px; border:1px solid rgba(255,255,255,.2); background: rgba(255,255,255,.06); color:#fff; cursor:pointer }
    .tab.active{ background: var(--orange); color: #111; border-color: var(--orange); font-weight:700 }
    .hidden{ display:none }
    .list{ margin-top:8px }
    .item{ background: rgba(255,255,255,.08); border:1px solid rgba(255,255,255,.18); border-radius:12px; padding:10px; margin:8px 0; cursor:pointer }
    .item .row{ display:flex; justify-content:space-between; align-items:center; gap:8px; color:#fff }
    .tiny{ color: rgba(255,255,255,.8); font-size:.85rem }
    .mono{ font-variant-numeric: tabular-nums }
    dialog{ border:none; border-radius:14px; background:#1b1120; color:#fff; padding:16px; width:min(860px,92vw) } dialog::backdrop{ background:rgba(0,0,0,.6) }
    .pill{ display:inline-block; padding:2px 8px; border-radius:999px; border:1px solid rgba(255,255,255,.5); color:#fff; font-size:.8rem }
    hr.sep{ border:none; border-top:1px dashed rgba(255,255,255,.2); margin:12px 0 }
    .footer{ text-align:center; color: rgba(255,255,255,.75); font-size:.9rem; margin-top:12px }
    .searchRow{ display:flex; gap:8px; align-items:center; margin:8px 0 }
    .searchRow .searchBtn{ width:48px; height:48px; display:flex; align-items:center; justify-content:center; font-size:20px }
    .toast{ position:fixed; left:50%; bottom:20px; transform:translateX(-50%); background:rgba(0,0,0,.8); color:#fff; padding:10px 14px; border-radius:10px; opacity:0; pointer-events:none; transition:opacity .25s; z-index:100 }
    .toast.show{ opacity:1 }
    .toast.err{ background:#7a1320 }
  </style>
</head>
<body>
<div class="topbar">
  <div class="brand">
    <img src="./icons/icon-192.png" alt="JulineMart logo">
    <div id="brand">JulineMart Vendor Sourcing</div>
  </div>
  <div class="actionsRight">
    <button id="settingsBtn" class="btn ghost">⚙️</button>
    <button id="adminBtn" class="btn ghost">Admin</button>
  </div>
</div>

<div class="wrap">
  <div class="card">
    <div class="tabs">
      <div id="tabForm" class="tab active">Form</div>
      <div id="tabRecords" class="tab">My Records</div>
    </div>

    <!-- === Form goes here (unchanged) === -->
    <div id="viewForm">…</div>

    <!-- === Records view (unchanged) === -->
    <div id="viewRecords" class="hidden">…</div>

    <div class="footer">
      <a href="https://docs.google.com/spreadsheets/d/1Oy5sctouREFW7Sr84LQlkaXevX-LiYKYw_TdcEH6p3A/edit#gid=0"
        target="_blank" rel="noopener" class="tiny" style="color:#ff914d;text-decoration:underline">
        Open Sheet (Admin)
      </a>
      • Add to Home Screen on Android (⋮ → Add to Home screen) • iPhone Safari (Share → Add to Home Screen). Works offline.
    </div>
  </div>
</div>

<!-- dialogs (settings, admin, detail) -->
<dialog id="settingsDlg">…</dialog>
<dialog id="adminDlg">…</dialog>
<dialog id="detailDlg">…</dialog>

<div id="toast" class="toast"></div>

<script>
// simple error catcher
window.onerror = function(msg, src, line, col){
  alert("App error: " + msg + " (" + line + ":" + col + ")");
};
</script>

<script>
// === Your JS logic here ===
// Use the version I sent earlier, but replace every curly apostrophe ’ with either ' or ".
// In particular, CSV header should be:
// ["ID","Marketer's Name","Marketer Phone", ... ]
</script>
</body>
</html>
